###
# This file is generated.
#
# To edit, makes changes to the file in templates/ulp.py.j2 and run support/ulp_builder.py.
###

import espulp
import memorymap

from pins import ULP_ADC_PINS, ULP_GPIO_PINS

class ULP:
    def __init__(self):
        self.__program = espulp.ULP(espulp.Architecture.RISCV)
        self.alarm = espulp.ULPAlarm(self.__program)
        self.shared_memory = __SharedMemory__()

    def start(self):
        self.__program.halt()
        self.__program.run(
            b'o\x00\xe0\x01\x13\x00\x00\x00\x13\x00\x00\x00\x13\x00\x00\x00\x82\x80\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x17!\x00\x00\x13\x01!\xfd\x11+\x81)\x05+\x01\xa0\xf3\'\x00\xc01\x15>\x95\xf3\'\x00\xc0\xe3\xee\xa7\xfe\x82\x80)g\x13\x07G@\x14C\x93\x07\x00@\xb3\x97\xa7\x00\x93\xf6\xf6?\xd5\x8f\x1c\xc3\x82\x80\x01\x11"\xcc&\xcaJ\xc8N\xc6\x06\xce\xaa\x84\x01D)i\xb7\t\x04\x00\x13\x07\x89@\x1cC\x93\xf7\xf7?\xb3\xe77\x01\x1c\xc3\xb3\xd7\x84@\x85\x8b\x99\xc3!E]?\x13\x05\xe0\x1fy?!Eu7\x05\x04\xa1G\xe3\x1b\xf4\xfc\xf2@bD\xd2DBI\xb2I\x05a\x82\x80\x13\xf8\xf5\x0fA\x11#\x06\x01\x01\xa1\x81\xa3\x06\xb1\x00\x83\xc7\x06\x00\xb3\x87\x07A\x93\xd8\xf7A\xb3\xc7\xf8\x00\xb3\x87\x17AcP\xf6\x02#\x80\x06\x01#\x00\xb7\x00\x83G\xc0Y\x05G3\x15\xa7\x00\xc9\x8f\x93\xf7\xf7\x0f#\x0e\xf0XA\x01\x82\x80\xb5g\x93\x87G\x94\x98C\xb7\x06\x00\x807\x06\x08\x00U\x8f\x98\xc3\xa9g\x13\x87GH\x14C\x93\x87\x07A\xd1\x8e\x14\xc3\x14C7\x06\xfa\xff}\x16\xf1\x8e\x14\xc3\x98C\x13w\xf7?\x13g\x07@\x98\xc3\x82\x80\x01E1\xb7)g\x13\x07\x87@\x1cC\x93\xf7\xf7?\x93\xe7\x07@\x1c\xc3\x82\x80A\x11"\xc4&\xc2J\xc0\x06\xc6*\x89\xa1D\x01D\xca\x85\x01E\x05.*\x94\xfd\x14B\x04\x93\xf4\xf4\x0fA\x80\xfd\xf4\xb2@\x13U4\x00"D\x92D\x02IA\x01\x82\x80\x01\x11"\xcc*\x84.\x85\x06\xce2\xc66\xc4:\xc2u?\xaa\x85\x13\x15\x84\x01bD\x12G\xa2F2F\xf2@a\x85\x05a!\xb7A\x11"\xc4)d\x13\x07\x84@\x1cC\xb7\x06\x04\x00\x06\xc6\x93\xf7\xf7?&\xc2\xd5\x8f\x85d\x1c\xc3\x13\x85\x04\xff\x9d5!E\x95=\x13\x05\xe0\x1f\x13\x04DB\xa1=\x00@\x13\x85$\xdf\x81=\xb2@\x13U$\x01"D\x13E\x15\x00\x92D\x05\x89A\x01\x82\x80\x01\x11"\xccJ\xc8\x06\xce&\xcaN\xc6*\x89U7*\x84\x11\xcd\x13\x05P\x05\xb95\x81D\xa1I\xb3\x07\x99\x00\x03\xc5\x07\x00\x85\x04==\xe3\x9a4\xff\xf2@"\x85bD\xd2DBI\xb2I\x05a\x82\x80A\x11"\xc4\x06\xc6\xbd7*\x84\x19\xc5\x13\x05\xc0\x0c!=\x13\x05@\x04\t=\xb2@"\x85"DA\x01\x82\x80*\x86\x81F\x01E\x93\xf7\xf6\x0fc\xe3\xb7\x00\x82\x80\xb3\x07\xd6\x00\x03\xc8\x07\x00!G\xb3G\x05\x01\x85\x8b\x05\x81\x89\xc7\x93G\xc5\xf8\x13\xf5\xf7\x0f}\x17\x13w\xf7\x0f\x13X\x18\x00u\xf3\x85\x06\xf1\xb7\xb5g\x93\x87G\x94\x98C\xb7\x06\x00\x807\x06\x08\x00U\x8f\x98\xc3)g\x93\x07GJ\x94C\x13\x07\x07A\xd1\x8e\x94\xc3\x94C7\x06\xfa\xff}\x16\xf1\x8e\x94\xc3\x94C\tf\xd1\x8e\x94\xc3\x14C7\x06\x04\x00\x93\xf6\xf6?\xd1\x8e\x14\xc3\x98C\xb7\x06\x00\xa0\xfd\x16u\x8f\xb7\x06\x00 U\x8f\x98\xc3\x98C\xb7\x06\x00\x08U\x8f\x98\xc3\x98C\xb7\x06\x00\xf0\xfd\x16u\x8f\x98\xc3\x82\x809qR\xd4*\x8a.\x85J\xd8N\xd6\x06\xde"\xdc&\xdaV\xd2Z\xd0^\xceb\xccf\xca2\x89\xb6\x89\xd1=Y\xcd\x13\x05\xe0\x0b\r;\x81K\xa9j7\x0c\x04\x00\xa5L\x81D\x01K\x13\x87\x8a@\x1cC!E\x93\xf7\xf7?\xb3\xe7\x87\x01\x1c\xc3\xdd9\x13\x05\xa0\x02\xf99\x93\x87JB\x80C\x13\x050\x1d\xc99I\x80\x05\x883\x14d\x01\xc1\x8c\x05\x0b\xa1G\x93\xf4\xf4\x0f\xe3\x14\xfb\xfc\\\x00\xde\x97#\x80\x97\x00\x85\x0b\xe3\x9b\x9b\xfb\xa1EH\x00\xf95\x83G\xc1\x00N\x87\xca\x86!Fc\x81\xa7\x02\x81E}UbT\xf2P\xd2TBY\xb2Y"Z\x92Z\x02[\xf2KbL\xd2L!a\xed\xb9\x13\x15\x8a\x01\x83UA\x00a\x85\xf1\xbf\xf2PbT\xd2TBY\xb2Y"Z\x92Z\x02[\xf2KbL\xd2L!a\x82\x80A\x11\x06\xc6\x19;E=\xb2@\x05G#\x0f\xe0XA\x01\x82\x80A\x11\x06\xc6"\xc4&\xc25;-=*\x847Ea\x00\x13\x05\x85e-1\x13\x07\xa0Y\x93\x06\xb0Y\x13\x06P\x05\x95E\x01E#\x0e\x00X\x953\x13\x07\x80Y\x93\x06\x90Y\x13\x06\xc0\x03\x91E\x05E\x89;!3\r\xc0\x93\x06`Y\x13\x06pY\x93\x05\xc0X\tE\xc15\x93\x06@Y\x13\x06PY\x93\x05@X\rEE=\x85G7Da\x00\xa3\x0e\xf0X\x13\x04\x84e\xfd \x83G\xd0Y\x91\xe7\xb2@"D\x92DA\x01\x82\x80"\x85m>\xf5\xb7\x83G\xe0YA\x11\x06\xc6\x91\xe3\xa1?\xad7\xb2@\x01EA\x01\x82\x80\xb7\x07\x10\x00\xb3\x95\xb7\x00\xd1\x81\xb5gA\x11\x93\x87\x07\x80\xce\x05\x1d\xe9\xd8G\xb7\x06\x08\x80\xfd\x16u\x8fM\x8f\xd8\xc7\xb8C:\xc2\x12GY\x83\x13w\xf7\x0fu\xfb\xd8G\x81v\xfd\x16u\x8f\xd8\xc7\xd8G\xb7\x06\x02\x00U\x8f\xd8\xc7\x85F\x1d\xa0\x98[\xb7\x06\x08\x80\xfd\x16u\x8fM\x8f\x98\xdb\x98[\x81v\xfd\x16u\x8f\x98\xdb\x98[\xb7\x06\x02\x00U\x8f\x98\xdb\x89F\x05Fc\x9f\xc6\x00\xd8GA\x83\x05\x8b}\xdb\x19\xe9\xdcG>\xc4\x03U\x81\x00B\x05A\x81A\x01\x82\x80\x98[\xdd\xb7\x9c[\x91f}U>\xc6\x83W\xc1\x00\x13\x97\x07\x01A\x83\xe3\xf3\xd7\xfe:\x85\xc5\xb7\xa1g\x93\x87\x07\x10\x98C\xb7\x06\xc0\xfd\xfd\x16u\x8f\x98\xc3\x82\x80!g\x1cO\x93\xe7\x17\x00\x1c\xcf\x82\x80\xa1g\x93\x87\x07\x10\x98C\xb7F\xc0\xff\xfd\x16u\x8f\xb7\xc6\x0f\x00U\x8f\x98\xc3\x98C\xb7\x06@\x02U\x8f\x98\xc3\x01\xa0\x00\x00\x01\x00\x00\x00(n\r\x80% \x01\xc5(\x18\x1ex% \x01\xb0',
            pins=ULP_GPIO_PINS,
            adc_pins=ULP_ADC_PINS
        )

    def resume(self):
        self.shared_memory.paused = False


class __SharedMemory__:
    def __init__(self):
        self.__memory_map = memorymap.AddressRange(start=0x50000000, length=0x2000)

    @property
    def debug(self):
        return self.__memory_map[1408] == 1

    @property
    def paused(self):
        return self.__memory_map[1437] == 1
    @paused.setter
    def paused(self, value):
        self.__memory_map[1437] = 1 if value else 0

    
    @property
    def DO(self):
        return self.__read_value([1433, 1432])
    
    @property
    def air_temp(self):
        return self.__read_value([1431, 1430])
    
    @property
    def modified(self):
        return self.__read_value([1436])
    
    @property
    def pH(self):
        return self.__read_value([1435, 1434])
    
    @property
    def water_temp(self):
        return self.__read_value([1429, 1428])
    

    def __read_value(self, memory_addresses):
        output = 0
        for i, byte_memory_address in enumerate(memory_addresses):
            byte = self.__memory_map[byte_memory_address]
            output |= byte << (i * 8)
        return output